--[[ 
    XChassis Max-Effort GUI v6 (Mobile Deluxe)
    - Full Mobile Scaling & Optimization
    - Luxury Startup Animation (Fade & Scale)
    - Logo Integration
]]

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local HttpService = game:GetService("HttpService")

-- // CONFIGURATION & THEME \\ --
local Config = {
    Name = "XChassis v6",
    LogoId = "rbxassetid://91812963029195", -- Image ID for the logo
    Accent = Color3.fromRGB(255, 50, 50), 
    Gradient1 = Color3.fromRGB(40, 0, 0), 
    Gradient2 = Color3.fromRGB(15, 15, 15),
    Text = Color3.fromRGB(255, 255, 255),
    TextDark = Color3.fromRGB(170, 170, 170),
    CornerRadius = UDim.new(0, 8),
    Font = Enum.Font.GothamMedium,
    FontBold = Enum.Font.GothamBold,
    PluginFolder = "XChassis_Plugins"
}

-- // CLEANUP OLD \\ --
if CoreGui:FindFirstChild("XChassisV6") then
    CoreGui.XChassisV6:Destroy()
end

-- // UTILITY FUNCTIONS \\ --
local Utility = {}

function Utility:Create(class, props)
    local obj = Instance.new(class)
    for k, v in pairs(props) do
        obj[k] = v
    end
    return obj
end

function Utility:AddCorner(parent, radius)
    return Utility:Create("UICorner", {
        CornerRadius = radius or Config.CornerRadius,
        Parent = parent
    })
end

function Utility:AddStroke(parent, color, thickness)
    return Utility:Create("UIStroke", {
        Color = color or Config.Accent,
        Thickness = thickness or 1,
        Transparency = 0.6,
        Parent = parent
    })
end

function Utility:AddGradient(parent)
    local grad = Utility:Create("UIGradient", {
        Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, Config.Gradient1),
            ColorSequenceKeypoint.new(1, Config.Gradient2)
        },
        Rotation = 45,
        Parent = parent
    })
    return grad
end

function Utility:MakeDraggable(frame, dragHandle)
    local dragging, dragInput, dragStart, startPos
    
    local function update(input)
        local delta = input.Position - dragStart
        local targetPos = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y
        )
        TweenService:Create(frame, TweenInfo.new(0.1), {Position = targetPos}):Play()
    end

    dragHandle.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    dragHandle.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            update(input)
        end
    end)
end

function Utility:Ripple(btn)
    task.spawn(function()
        local ripple = Utility:Create("ImageLabel", {
            Name = "Ripple",
            Parent = btn,
            BackgroundColor3 = Color3.fromRGB(255, 255, 255),
            BackgroundTransparency = 1,
            BorderSizePixel = 0,
            Image = "rbxassetid://266543268",
            ImageColor3 = Config.Accent,
            ImageTransparency = 0.8,
            ZIndex = 9
        })
        
        local mouse = LocalPlayer:GetMouse()
        local x = mouse.X - btn.AbsolutePosition.X
        local y = mouse.Y - btn.AbsolutePosition.Y
        ripple.Position = UDim2.new(0, x, 0, y)
        ripple.Size = UDim2.new(0, 0, 0, 0)
        
        local tween = TweenService:Create(ripple, TweenInfo.new(0.4), {
            Size = UDim2.new(0, 300, 0, 300),
            Position = UDim2.new(0, x - 150, 0, y - 150),
            ImageTransparency = 1
        })
        tween:Play()
        tween.Completed:Wait()
        ripple:Destroy()
    end)
end

-- // GUI CREATION \\ --

local ScreenGui = Utility:Create("ScreenGui", {
    Name = "XChassisV6",
    Parent = CoreGui,
    ResetOnSpawn = false
})

-- Notification System (No change needed)
local NotifyContainer = Utility:Create("Frame", {
    Size = UDim2.new(0, 300, 1, 0),
    Position = UDim2.new(1, -310, 0, 0),
    BackgroundTransparency = 1,
    Parent = ScreenGui
})
local NotifyLayout = Utility:Create("UIListLayout", {
    Parent = NotifyContainer,
    VerticalAlignment = Enum.VerticalAlignment.Bottom,
    Padding = UDim.new(0, 5)
})

function Utility:Notify(title, text, duration)
    local frame = Utility:Create("Frame", {
        Size = UDim2.new(1, 0, 0, 60),
        BackgroundColor3 = Config.Gradient2,
        Parent = NotifyContainer,
        BackgroundTransparency = 0.1
    })
    Utility:AddCorner(frame)
    Utility:AddStroke(frame, Config.Accent, 1)
    
    Utility:Create("TextLabel", {
        Text = title,
        Font = Config.FontBold,
        TextColor3 = Config.Accent,
        TextSize = 14,
        Size = UDim2.new(1, -10, 0, 20),
        Position = UDim2.new(0, 10, 0, 5),
        BackgroundTransparency = 1,
        TextXAlignment = Enum.TextXAlignment.Left,
        Parent = frame
    })
    
    Utility:Create("TextLabel", {
        Text = text,
        Font = Config.Font,
        TextColor3 = Config.Text,
        TextSize = 12,
        Size = UDim2.new(1, -10, 0, 30),
        Position = UDim2.new(0, 10, 0, 25),
        BackgroundTransparency = 1,
        TextXAlignment = Enum.TextXAlignment.Left,
        TextWrapped = true,
        Parent = frame
    })
    
    frame.Position = UDim2.new(1, 0, 0, 0)
    TweenService:Create(frame, TweenInfo.new(0.3), {Position = UDim2.new(0,0,0,0)}):Play()
    
    task.delay(duration or 3, function()
        local out = TweenService:Create(frame, TweenInfo.new(0.3), {BackgroundTransparency = 1})
        out:Play()
        out.Completed:Wait()
        frame:Destroy()
    end)
end

-- Main Window (Mobile Friendly Scaling)
local MainFrame = Utility:Create("Frame", {
    Name = "MainFrame",
    Size = UDim2.new(0.9, 0, 0.8, 0), -- 90% width, 80% height
    Position = UDim2.new(0.5, 0, 0.5, 0),
    AnchorPoint = Vector2.new(0.5, 0.5), -- Center Anchor
    BackgroundColor3 = Color3.fromRGB(255,255,255), 
    BorderSizePixel = 0,
    ClipsDescendants = true,
    Parent = ScreenGui,
    -- Initial state for animation
    Size = UDim2.new(0,0,0,0),
    Transparency = 1,
})
Utility:AddCorner(MainFrame)
Utility:AddGradient(MainFrame) 
Utility:AddStroke(MainFrame, Config.Accent, 2)
Utility:MakeDraggable(MainFrame, MainFrame)

-- Sidebar (Proportional)
local Sidebar = Utility:Create("Frame", {
    Size = UDim2.new(0.3, 0, 1, 0), -- 30% of main frame width
    BackgroundColor3 = Color3.new(0,0,0),
    BackgroundTransparency = 0.5,
    BorderSizePixel = 0,
    Parent = MainFrame
})
Utility:AddCorner(Sidebar)

-- Logo
local Logo = Utility:Create("ImageLabel", {
    Size = UDim2.new(0, 50, 0, 50),
    Position = UDim2.new(0.5, 0, 0, 5),
    AnchorPoint = Vector2.new(0.5, 0),
    Image = Config.LogoId,
    BackgroundTransparency = 1,
    Parent = Sidebar
})

-- Title (Below logo)
local Title = Utility:Create("TextLabel", {
    Text = Config.Name,
    Font = Config.FontBold,
    TextSize = 16, -- Slightly smaller for mobile
    TextColor3 = Config.Accent,
    Size = UDim2.new(1, 0, 0, 30),
    Position = UDim2.new(0, 0, 0, 60),
    BackgroundTransparency = 1,
    Parent = Sidebar
})

-- Pages Container
local PagesFolder = Utility:Create("Folder", {Parent = MainFrame})
local TabButtons = Utility:Create("ScrollingFrame", {
    Size = UDim2.new(1, 0, 1, -100), -- More space for logo/title
    Position = UDim2.new(0, 0, 0, 95),
    BackgroundTransparency = 1,
    ScrollBarThickness = 0,
    Parent = Sidebar
})
local TabListLayout = Utility:Create("UIListLayout", {
    Parent = TabButtons,
    SortOrder = Enum.SortOrder.LayoutOrder,
    Padding = UDim.new(0, 5),
    HorizontalAlignment = Enum.HorizontalAlignment.Center
})

TabListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    Content.CanvasSize = UDim2.new(0, 0, 0, TabListLayout.AbsoluteContentSize.Y + 8)
end)

Content.CanvasSize = UDim2.new(0, 0, 0, TabListLayout.AbsoluteContentSize.Y + 8)

-- // TAB LOGIC \\ --
local CurrentTab = nil

local function CreateTab(name)
    local Btn = Utility:Create("TextButton", {
        Text = name,
        Size = UDim2.new(1, -10, 0, 35),
        BackgroundColor3 = Color3.fromRGB(255,255,255),
        BackgroundTransparency = 1,
        TextColor3 = Config.TextDark,
        Font = Config.Font,
        TextSize = 14,
        Parent = TabButtons
    })
    Utility:AddCorner(Btn, UDim.new(0,6))
    
    local Content = Utility:Create("ScrollingFrame", {
        Name = name.."Page",
        Size = UDim2.new(0.7, -10, 1, -20), -- Takes up remaining 70% space
        Position = UDim2.new(0.3, 5, 0, 10),
        BackgroundTransparency = 1,
        Visible = false,
        ScrollBarThickness = 2,
        ScrollBarImageColor3 = Config.Accent,
        Parent = PagesFolder
    })
    Utility:Create("UIListLayout", {
        Parent = Content,
        Padding = UDim.new(0, 8),
        SortOrder = Enum.SortOrder.LayoutOrder,
        HorizontalAlignment = Enum.HorizontalAlignment.Center
    })
    
    Btn.MouseButton1Click:Connect(function()
        Utility:Ripple(Btn)
        for _, v in pairs(TabButtons:GetChildren()) do
            if v:IsA("TextButton") then
                TweenService:Create(v, TweenInfo.new(0.3), {BackgroundTransparency = 1, TextColor3 = Config.TextDark}):Play()
            end
        end
        for _, v in pairs(PagesFolder:GetChildren()) do v.Visible = false end
        
        TweenService:Create(Btn, TweenInfo.new(0.3), {BackgroundTransparency = 0.9, TextColor3 = Config.Accent}):Play()
        Content.Visible = true
        Content.CanvasPosition = Vector2.new(0,0)
        
        Content.Position = UDim2.new(0.3, 10, 0, 10) -- Start slightly off
        TweenService:Create(Content, TweenInfo.new(0.4, Enum.EasingStyle.Quint), {Position = UDim2.new(0.3, 5, 0, 10)}):Play()
    end)
    
    if CurrentTab == nil then
        CurrentTab = Btn
        Btn.BackgroundTransparency = 0.9
        Btn.TextColor3 = Config.Accent
        Content.Visible = true
    end
    
    return Content
end

-- // ELEMENT FUNCTIONS (Adjusted to full width inside Content Frame) \\ --
local function CreateButton(parent, text, callback)
    local btn = Utility:Create("TextButton", {
        Size = UDim2.new(1, 0, 0, 35), -- Full width of content area
        BackgroundColor3 = Color3.new(0,0,0),
        BackgroundTransparency = 0.6,
        Text = text,
        TextColor3 = Config.Text,
        Font = Config.Font,
        TextSize = 14,
        Parent = parent
    })
    Utility:AddCorner(btn)
    Utility:AddStroke(btn, Config.Accent, 1)
    
    btn.MouseButton1Click:Connect(function() Utility:Ripple(btn); pcall(callback) end)
end

local function CreateSlider(parent, text, min, max, default, callback)
    local sliderFrame = Utility:Create("Frame", {
        Size = UDim2.new(1, 0, 0, 50),
        BackgroundColor3 = Color3.new(0,0,0),
        BackgroundTransparency = 0.6,
        Parent = parent
    })
    Utility:AddCorner(sliderFrame)
    Utility:AddStroke(sliderFrame, Config.Accent, 1)
    
    local label = Utility:Create("TextLabel", {
        Text = text, Size = UDim2.new(1, -10, 0, 25), Position = UDim2.new(0, 10, 0, 0),
        BackgroundTransparency = 1, TextColor3 = Config.Text, Font = Config.Font, TextXAlignment = Enum.TextXAlignment.Left,
        Parent = sliderFrame
    })
    local valLabel = Utility:Create("TextLabel", {
        Text = tostring(default), Size = UDim2.new(0, 50, 0, 25), Position = UDim2.new(1, -60, 0, 0),
        BackgroundTransparency = 1, TextColor3 = Config.TextDark, Font = Config.Font, TextXAlignment = Enum.TextXAlignment.Right,
        Parent = sliderFrame
    })
    
    local bar = Utility:Create("Frame", {
        Size = UDim2.new(1, -20, 0, 4), Position = UDim2.new(0, 10, 0, 35), BackgroundColor3 = Color3.fromRGB(50,50,50), Parent = sliderFrame
    })
    Utility:AddCorner(bar, UDim.new(1,0))
    local fill = Utility:Create("Frame", {
        Size = UDim2.new((default - min)/(max - min), 0, 1, 0), BackgroundColor3 = Config.Accent, Parent = bar
    })
    Utility:AddCorner(fill, UDim.new(1,0))
    
    local dragging = false
    local function update(input)
        local sizeX = math.clamp((input.Position.X - bar.AbsolutePosition.X) / bar.AbsoluteSize.X, 0, 1)
        TweenService:Create(fill, TweenInfo.new(0.1), {Size = UDim2.new(sizeX, 0, 1, 0)}):Play()
        local val = math.floor(min + ((max - min) * sizeX))
        valLabel.Text = tostring(val)
        pcall(callback, val)
    end
    bar.InputBegan:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then dragging = true; update(input) end end)
    UserInputService.InputChanged:Connect(function(input) if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then update(input) end end)
    UserInputService.InputEnded:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then dragging = false end end)
end

-- // TABS CONTENT \\ --

-- [TAB 1: LOCAL]
local TabLocal = CreateTab("LocalPlayer")
CreateSlider(TabLocal, "WalkSpeed", 16, 500, 16, function(v) if LocalPlayer.Character then LocalPlayer.Character.Humanoid.WalkSpeed = v end end)
CreateSlider(TabLocal, "JumpPower", 50, 500, 50, function(v) if LocalPlayer.Character then LocalPlayer.Character.Humanoid.JumpPower = v end end)
CreateButton(TabLocal, "Reset Character", function() if LocalPlayer.Character then LocalPlayer.Character.Humanoid.Health = 0 end end)

-- [TAB 2: SCRIPTS]
local TabScripts = CreateTab("Scripts")
CreateButton(TabScripts, "Set Skybox", function()
    local id = "rbxassetid://82411403129832"
        local s = Instance.new("Sky", game.Lighting)
        s.SkyboxBk = id s.SkyboxDn = id s.SkyboxFt = id
        s.SkyboxLf = id s.SkyboxRt = id s.SkyboxUp = id
    Utility:Notify("Scripts", "Loaded Skybox")
end)
CreateButton(TabScripts, "Set Particles", function()
    for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("BasePart") then
                local p = Instance.new("ParticleEmitter", v)
                p.Texture = "rbxassetid://82411403129832"
            end
        end
    Utility:Notify("Scripts", "Loaded Particles")
end)
CreateButton(TabScripts, "Set Hint", function()
    local h = Instance.new("Hint", workspace)
        h.Text = "BOW DOWN TO NAS9229ALT & HAXSTER998 CUZ WE PWNED THIS GAME LOL"
    Utility:Notify("Scripts", "Loaded Hint")
end)
CreateButton(TabScripts, "Decal Spam", function()
    -- ID of the decal
local decalId = "130720573923509"

-- Function to apply decal to a part
local function applyDecal(part)
    if part:IsA("BasePart") then
        -- Apply decal on all 6 surfaces
        local surfaces = {
            Enum.NormalId.Top,
            Enum.NormalId.Bottom,
            Enum.NormalId.Left,
            Enum.NormalId.Right,
            Enum.NormalId.Front,
            Enum.NormalId.Back
        }
        for _, surface in pairs(surfaces) do
            local decal = Instance.new("Decal")
            decal.Texture = "rbxassetid://" .. decalId
            decal.Face = surface
            decal.Parent = part
        end
    end
end

-- Loop through all descendants in workspace
for _, obj in pairs(workspace:GetDescendants()) do
    applyDecal(obj)
end

-- Optional: run whenever new parts are added
workspace.DescendantAdded:Connect(function(obj)
    applyDecal(obj)
end)
    Utility:Notify("Scripts", "Loaded Decal Spam")
end)
CreateButton(TabScripts, "Play Theme", function()
    local snd = Instance.new("Sound", workspace)
        snd.SoundId = "rbxassetid://114573847650036"
        snd.Looped = true snd.Volume = 15 snd.PlaybackSpeed = 0.18 snd:Play()
    Utility:Notify("Scripts", "Playing Theme")
end)
CreateButton(TabScripts, "Grab Knife V4", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Grab-Knife-V4-56561"))()
    Utility:Notify("Scripts", "Loaded Grab Knife V4")
end)
CreateButton(TabScripts, "Walk On Walls", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/FE-walk-on-walls_206"))()
    Utility:Notify("Scripts", "Loaded Walk On Walls")
end)
CreateButton(TabScripts, "Leave Game", function()
    game:Shutdown()
    Utility:Notify("Scripts", "Left the game")
end)
CreateButton(TabScripts, "Set Hint", function()
    local h = Instance.new("Hint", workspace)
        h.Text = "BOW DOWN TO NAS9229ALT & HAXSTER998 CUZ WE PWNED THIS GAME LOL"
    Utility:Notify("Scripts", "Loaded Hint")
end)
CreateButton(TabScripts, "Infinite Yield", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
    Utility:Notify("Scripts", "Loaded Infinite Yield")
end)
CreateButton(TabScripts, "Nameless Admin (Legacy)", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/FilteringEnabled/NamelessAdmin/main/Source"))()
    Utility:Notify("Scripts", "Loaded Nameless Admin")
end)
CreateButton(TabScripts, "Dark Dex V3", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Babyhamsta/RBLX_Scripts/main/Universal/BypassedDarkDexV3.lua", true))()
    Utility:Notify("Scripts", "Loaded Dark Dex V3")
end)
CreateButton(TabScripts, "SimpleSpy", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/exxtremestuffs/SimpleSpySource/master/SimpleSpy.lua"))()
    Utility:Notify("Scripts", "Loaded SimpleSpy")
end)
CreateButton(TabScripts, "Fly GUI V3", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Fly-Gui-V3-59173"))()
    Utility:Notify("Scripts", "Loaded Fly GUI V3")
end)
CreateButton(TabScripts, "Nameless Admin (Modern)", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Nameless-Admin-35212"))()
    Utility:Notify("Scripts", "Loaded Nameless Admin (Modern)")
end)
CreateButton(TabScripts, "NasGUI Reborn Modded", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/realNasser9229/NasGUI/refs/heads/main/source.lua", true))()
    Utility:Notify("Scripts", "Loaded NasGUI v2.3 Reborn Modded")
end)
CreateButton(TabScripts, "Nasser's Terminal", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/realNasser9229/NasGUI/refs/heads/main/NassersTerminal.lua", true))()
    Utility:Notify("Scripts", "Loaded Nasser's Terminal")
end)
CreateButton(TabScripts, "Anti-Bang", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Anti-Bang-Script-39958"))()
    Utility:Notify("Scripts", "Loaded Anti-Bang")
end)
CreateButton(TabScripts, "Anti-Fling", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Anti-Collision-Anti-Fling-48978"))()
    Utility:Notify("Scripts", "Loaded Anti-Fling")
end)
CreateButton(TabScripts, "Animatrix", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-R6-Animations-Menu-By-Me-19427"))()
    Utility:Notify("Scripts", "Loaded Animatrix")
end)
CreateButton(TabScripts, "R6 Retro Animations", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FE-Classic-Animations-36645"))()
    Utility:Notify("Scripts", "Loaded R6 Retro Animations")
end)
CreateButton(TabScripts, "R6 On R15", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-R6-Animations-on-R15-16865"))()
    Utility:Notify("Scripts", "Loaded R6 On R15")
end)
CreateButton(TabScripts, "Crisis Bypass", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-chisis-byp*s-54088"))()
    Utility:Notify("Scripts", "Loaded Crisis Bypass")
end)
CreateButton(TabScripts, "R6 Sword Fling", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FE-Classic-Sword-Fling-Tool-16842"))()
    Utility:Notify("Scripts", "Loaded R6 Sword Fling")
end)
CreateButton(TabScripts, "Reanimation Dances R6", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Epik-dance-r6-remake-64511"))()
    Utility:Notify("Scripts", "Loaded Reanimation Dances R6")
end)
CreateButton(TabScripts, "FE Boogie Down", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FE-boogie-down-53232"))()
    Utility:Notify("Scripts", "Loaded FE Boogie Down")
end)
CreateButton(TabScripts, "NasGUI V1.8 Reborn", function()
    loadstring(game:HttpGet("https://pastefy.app/Df3A1iZx/raw?part=NasGUI%20RE-BORN.lua", true))()
    Utility:Notify("Scripts", "Loaded NasGUI V1.8 Reborn")
end)
CreateButton(TabScripts, "Enable All CoreGui Elements", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Activate-Chat-backpack-and-more-38780"))()
    Utility:Notify("Scripts", "Enabled All CoreGui Elements")
end)
CreateButton(TabScripts, "Unsuspend Voice Chat", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Voice-Chat-Unban-42843"))()
    Utility:Notify("Scripts", "Unsuspended Voice Chat")
end)
CreateButton(TabScripts, "Forsakination", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Forsakination-48596"))()
    Utility:Notify("Scripts", "Loaded Forsakination")
end)
CreateButton(TabScripts, "Force Touch GUI", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FORCE-TOUCH-GUI-UNIVERSAL-OP-CAN-KILL-OR-KICK-43469"))()
    Utility:Notify("Scripts", "Loaded Force Touch GUI")
end)
CreateButton(TabScripts, "Game UI Logger", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Game-ui-giver-viewer-and-toggler-12171"))()
    Utility:Notify("Scripts", "Loaded Game UI Logger")
end)
CreateButton(TabScripts, "Jerk Off Goon", function()
    -- Auto-detect R6 or R15 and load the right goon script üî•
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local rigType = humanoid.RigType

if rigType == Enum.HumanoidRigType.R6 then
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-jerk-off-goon-28106"))()
    print("R6 detected ‚Äì goonin' heavy üíÄ")
elseif rigType == Enum.HumanoidRigType.R15 then
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-R15-Jerk-Off-Tool-38782"))()
    print("R15 detected ‚Äì time to edge üòè")
else
    warn("Couldn't detect rig type... weird game?")
end
    Utility:Notify("Scripts", "Loaded Jerk Off Goon")
end)
CreateButton(TabScripts, "Invincible Flight R15", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Invinicible-Flight-R15-45414"))()
    Utility:Notify("Scripts", "Loaded Invincible Flight R15")
end)
CreateButton(TabScripts, "R15 Crouch", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FE-R15-Crouch-Script-64510"))()
    Utility:Notify("Scripts", "Loaded R15 Crouch")
end)
CreateButton(TabScripts, "R15 Sonic.exe", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-FE-R15-Sonic-exe-63788"))()
    Utility:Notify("Scripts", "Loaded R15 Sonic.exe")
end)
CreateButton(TabScripts, "R6 Korblox", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Korblox-R6-28939"))()
    Utility:Notify("Scripts", "Loaded R6 Korblox")
end)
CreateButton(TabScripts, "R6 Jumper", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-KJ-FE-Spawn-Anim-24939"))()
    Utility:Notify("Scripts", "Loaded R6 Jumper")
end)
CreateButton(TabScripts, "LALOL Hub Backdoor", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-LALOL-Hub-Backdoor-58564"))()
    Utility:Notify("Scripts", "Loaded LALOL Hub Backdoor")
end)
CreateButton(TabScripts, "Monster Mash R6", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Monster-Mash-Tool-Script-24283"))()
    Utility:Notify("Scripts", "Loaded Monster Mash R6")
end)
CreateButton(TabScripts, "Mass Report Others", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Mass-Report-Others-42251"))()
    Utility:Notify("Scripts", "Loaded Mass Report Others")
end)
CreateButton(TabScripts, "Kraken Chat", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Global-Chat-2kr3kn-64174"))()
    Utility:Notify("Scripts", "Loaded Kraken Chat")
end)
CreateButton(TabScripts, "Hydroxide", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Normal-Hydroxide-20729"))()
    Utility:Notify("Scripts", "Loaded Hydroxide")
end)
CreateButton(TabScripts, "Secret Service Panel", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Secret-Service-panel-9623"))()
    Utility:Notify("Scripts", "Loaded Secret Service Panel")
end)
CreateButton(TabScripts, "Skeleton Skybox", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Skeleton-skybox-53658"))()
    Utility:Notify("Scripts", "Loaded Secret Service Panel")
end)
CreateButton(TabScripts, "F3X BTools", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Universal-F3X-41287"))()
    Utility:Notify("Scripts", "Loaded F3X BTools")
end)
CreateButton(TabScripts, "Super Ring Parts", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Super-modified-ring-parts-55157"))()
    Utility:Notify("Scripts", "Loaded Super Ring Parts")
end)
CreateButton(TabScripts, "Audio Logger", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Roblox-Audio-Logger-1522"))()
    Utility:Notify("Scripts", "Loaded Audio Logger")
end)
CreateButton(TabScripts, "Mobile Shiftlock", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Shiftlock-For-Mobile-Script-36530"))()
    Utility:Notify("Scripts", "Loaded Mobile Shiftlock")
end)
CreateButton(TabScripts, "007n7 Decal Spam", function()
    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-007n7-decal-spam-Not-FE-26963"))()
    Utility:Notify("Scripts", "Loaded 007n7 Decal Spam")
end)

-- [TAB 3: PLUGINS]
local TabPlugins = CreateTab("Plugins")

local function ReloadPlugins()
    for _, v in pairs(TabPlugins:GetChildren()) do
        if v:IsA("TextButton") or v:IsA("Frame") or v:IsA("TextLabel") then v:Destroy() end
    end
    
    CreateButton(TabPlugins, "Refresh Plugins", ReloadPlugins)
    CreateButton(TabPlugins, "Generate Example Plugin", function()
        if not makefolder then Utility:Notify("Error", "Your executor doesn't support files.", 5) return end
        
        if not isfolder(Config.PluginFolder) then makefolder(Config.PluginFolder) end
        
        local exampleCode = [[
return {
    Name = "God Mode Plugin",
    Callback = function()
        print("God Mode Activated from Plugin!")
        game.Players.LocalPlayer.Character.Humanoid.MaxHealth = math.huge
        game.Players.LocalPlayer.Character.Humanoid.Health = math.huge
    end
}
        ]]
        writefile(Config.PluginFolder.."/ExamplePlugin.xcha", exampleCode)
        Utility:Notify("Plugins", "Created ExamplePlugin.xcha in workspace/"..Config.PluginFolder)
        ReloadPlugins()
    end)
    
    if isfolder and listfiles and readfile then
        if not isfolder(Config.PluginFolder) then makefolder(Config.PluginFolder) end
        
        local files = listfiles(Config.PluginFolder)
        local count = 0
        
        for _, filePath in pairs(files) do
            if filePath:sub(-4) == ".xcha" then
                task.spawn(function()
                    local success, pluginData = pcall(function()
                        return loadstring(readfile(filePath))()
                    end)
                    
                    if success and type(pluginData) == "table" and pluginData.Name and pluginData.Callback then
                        count = count + 1
                        CreateButton(TabPlugins, "Run: "..pluginData.Name, function()
                            Utility:Notify("Plugins", "Running "..pluginData.Name)
                            pcall(pluginData.Callback)
                        end)
                    end
                end)
            end
        end
        
        if count == 0 then
            Utility:Create("TextLabel", { Text = "No plugins found in workspace/"..Config.PluginFolder, Size = UDim2.new(1,0,0,30), BackgroundTransparency = 1, TextColor3 = Config.TextDark, Font = Config.Font, Parent = TabPlugins })
        end
    else
        Utility:Create("TextLabel", { Text = "Your executor does not support FileSystem functions.", Size = UDim2.new(1,0,0,30), BackgroundTransparency = 1, TextColor3 = Color3.fromRGB(255,100,100), Font = Config.Font, Parent = TabPlugins })
    end
end
ReloadPlugins()

-- [TAB 4: EXECUTOR]
local TabExec = CreateTab("Executor")
local ExecBoxFrame = Utility:Create("Frame", {
    Size = UDim2.new(1, 0, 0, 200),
    BackgroundColor3 = Color3.new(0,0,0), BackgroundTransparency = 0.6, Parent = TabExec
})
Utility:AddCorner(ExecBoxFrame)
Utility:AddStroke(ExecBoxFrame, Config.Accent, 1)

local ExecBox = Utility:Create("TextBox", {
    Size = UDim2.new(1, -10, 1, -10), Position = UDim2.new(0, 5, 0, 5),
    BackgroundTransparency = 1, Text = "-- Lua Code Here", TextColor3 = Config.Text,
    Font = Enum.Font.Code, TextSize = 13, TextXAlignment = Enum.TextXAlignment.Left,
    TextYAlignment = Enum.TextYAlignment.Top, MultiLine = true, ClearTextOnFocus = false,
    Parent = ExecBoxFrame
})

CreateButton(TabExec, "Execute", function()
    local func, err = loadstring(ExecBox.Text)
    if func then func() else Utility:Notify("Error", err, 5) end
end)
CreateButton(TabExec, "Clear", function() ExecBox.Text = "" end)

-- // TOGGLE BUTTON (Mobile: Top Right) \\ --
local ToggleBtn = Utility:Create("TextButton", {
    Name = "Toggle",
    Parent = ScreenGui,
    Size = UDim2.new(0, 45, 0, 45),
    Position = UDim2.new(1, -55, 0, 10),
    BackgroundColor3 = Config.Accent,
    Text = "V6",
    TextColor3 = Config.Text,
    Font = Config.FontBold,
    TextSize = 20
})
Utility:AddCorner(ToggleBtn, UDim.new(0, 8))
Utility:MakeDraggable(ToggleBtn, ToggleBtn)

local visible = false -- Starts hidden for luxury animation
ToggleBtn.MouseButton1Click:Connect(function()
    visible = not visible
    local targetSize = visible and UDim2.new(0.9, 0, 0.8, 0) or UDim2.new(0, 0, 0, 0)
    local targetTransparency = visible and 0 or 1
    
    TweenService:Create(MainFrame, TweenInfo.new(0.6, Enum.EasingStyle.Quart, visible and Enum.EasingDirection.Out or Enum.EasingDirection.In), 
        {Size = targetSize, BackgroundTransparency = targetTransparency}):Play()
end)

-- // LUXURY STARTUP ANIMATION \\ --
task.wait(0.5) -- Small delay before starting
TweenService:Create(MainFrame, TweenInfo.new(1.2, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {
    Size = UDim2.new(0.9, 0, 0.8, 0),
    Transparency = 0,
    Position = UDim2.new(0.5, 0, 0.5, 0) -- Ensure position is set correctly
}):Play()

visible = true

Utility:Notify("XChassis v6", "Loaded. Enjoy!", 4)

